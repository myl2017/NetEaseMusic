"use strict";function clearRecords(n){var s="li[data-id='"+n+"']";$(s).remove()}$(function(){$.get("./database.json").then(function(n){n.forEach(function(n){if(n.id<=6){var s=$('\n                    <li>\n                        <a href="./playlist.html?id='+n.id+'">\n                            <div class="cover">\n                                <img src="'+n.cover+'" alt="推荐歌曲1"/>\n                                <span class="listener"><svg class="icon-headset"><use xlink:href="#icon-erjiicon"></use></svg>170万</span>\n                            </div>\n                            <p class="remd-summary">'+n.description+"</p>\n                        </a>\n                    </li>\n                ");$(".recommendList .recommendSongs").append(s)}}),$(".recommendList .loading").remove()}),$.get("./database.json").then(function(n){n.forEach(function(n){if(n.id>=7&&n.id<=16){var s=$('\n                    <li>\n                        <a href="./song.html?id='+n.id+'">\n                            <div class="songInfo">\n                                <h3>'+n.name+'</h3>\n                                <div class="songIntroduce"><i class="icon-sq"> </i><span>'+n.singer+" - "+n.name+'</span></div>\n                            </div>\n                            <div class="playButton"><span></span></div>\n                        </a>\n                    </li>\n                ');$(".newestList .newestSongs").append(s)}}),$(".newestList .loading").remove()},function(n){console.log(n),alert("error!!!")}),$.get("./database.json").then(function(n){var s=0;n.forEach(function(n){var i=void 0,a=void 0;1===n.isHot?(i=$('\n                    <li>\n                        <a href="./song.html?id='+n.id+'">\n                            <div class="order song-hot">0'+(s+=1)+'</div>\n                            <div class="songInfo">\n                                <h3>'+n.name+'<span></span></h3>\n                                <div class="songIntroduce"><i class="icon-sq"> </i><span>'+n.singer+" - "+n.name+'</span></div>\n                            </div>\n                            <div class="playButton"><span></span></div>\n                        </a>\n                    </li>\n                '),$(".hotSongList .hotSongs").append(i)):(a=$('\n                    <li>\n                        <a href="./song.html?id='+n.id+'">\n                            <div class="order">'+(n.id>=10?n.id+"":"0"+n.id)+'</div>\n                            <div class="songInfo">\n                                <h3>'+n.name+'<span></span></h3>\n                                <div class="songIntroduce"><i class="icon-sq"> </i><span>'+n.singer+" - "+n.name+'</span></div>\n                          </div>\n                            <div class="playButton"><span></span></div>\n                        </a>\n                    </li>\n                 '),$(".hotSongList .hotSongs").append(a))}),$(".hotSongList .loading").remove();$(".hotsonglist .hotSongs").next('               \n                        <div class="viewAll">\n                              <a class="hotViewLink" href="#">查看完整榜单 <span class="greaterThan">&gt;</span></a>\n                        </div>\n                        ')},function(n){console.log(n),alert("error!!!")})}),$(".tabs-nav").on("click","li",function(n){var s=$(n.currentTarget),i=s.index();s.addClass("active").siblings().removeClass("active"),$(".tab-pannel").children().eq(i).addClass("active").siblings().removeClass("active")});var timer=null;alert(100),console.log("watch"),$("input#search").on("input",function(n){timer&&window.clearTimeout(timer),timer=setTimeout(function(){timer=null,$(".records .hotList").removeClass("active");var s=$(n.currentTarget).val().trim();if(""!==s){var i=new XMLHttpRequest;i.open("GET","./database.json"),i.setRequestHeader("Content-Type","application/json"),i.onload=function(){var n=JSON.parse(i.responseText);if($(".searchResult").empty(),void 0!==n){for(var a=0;a<n.length;a++)if(n[a].name.includes(s)||n[a].singer.includes(s)||n[a].album.includes(s)){var e='\n                    <li>\n                        <a  href="./song.html?id='+n[a].id+'">\n                            <div class="songInfo">\n                                <h3 class="highlight">'+n[a].name+'</h3>\n                                <div class="songIntroduce"><span>'+n[a].singer+" - "+n[a].name+'</span></div>\n                            </div>\n                            <div class="playButton"><span></span></div>\n                        </a>\n                    </li>\n                ',o='\n                        <li data-id="'+n[a].id+'">\n                            <svg class="icon-lishi"><use xlink:href="#icon-lishi"></use></svg>\n                            <div class="lishiInfo">\n                                <div class="lishiName"><a href="./song.html?id='+n[a].id+'">'+n[a].name+'</a></div>\n                            </div>\n                            <svg class="icon-clear" onclick="clearRecords('+n[a].id+')">\n                                 <use xlink:href="#icon-guanbixiao"></use>\n                             </svg>\n                        </li>\n                ';$(".searchResult").append(e),$(".records .history .history-Info").addClass("active").append(o)}$(".searchResult").prepend('<h3 class="matchTitle">最佳匹配</h3>')}else $(".searchResult").append('<p class="empty">没有找到结果</p>')},i.send()}},400)}),$(".clearInput").on("click",function(n){$("input#search").val("")}),$("input#search").on("focus",function(n){$(".holder").empty()});
